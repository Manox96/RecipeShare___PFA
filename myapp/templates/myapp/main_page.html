{% extends 'myapp/layout.html' %}

{% block title %}Recipe Share - Home{% endblock %}

{% block page_title %}{% endblock %}

{% block main_content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css">
<style>
  body, .main-content {
    background: #f8f6f2 !important;
  }

  .hero-banner {
    background: linear-gradient(135deg, #fffbe6 0%, #ffe5ec 50%, #f0f8ff 100%);
    border-radius: 2.5rem;
    box-shadow: 0 8px 40px 0 rgba(60,60,120,0.12), 0 2px 16px 0 rgba(247,179,43,0.08);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 5rem 6rem 0 6rem;
    margin-bottom: 100px;
    gap: 4rem;
    position: relative;
    overflow: hidden;
    min-height: 680px;
    animation: fadeInHero 1.2s ease;
  }
  
  /* Floating decorative elements */
  .hero-banner::before {
    content: '';
    position: absolute;
    top: -50px;
    right: -50px;
    width: 200px;
    height: 200px;
    background: radial-gradient(circle, rgba(247,179,43,0.1) 0%, transparent 70%);
    border-radius: 50%;
    animation: float 6s ease-in-out infinite;
  }
  
  .hero-banner::after {
    content: '';
    position: absolute;
    bottom: -30px;
    left: -30px;
    width: 150px;
    height: 150px;
    background: radial-gradient(circle, rgba(255,229,236,0.6) 0%, transparent 70%);
    border-radius: 50%;
    animation: float 8s ease-in-out infinite reverse;
  }
  
  @keyframes fadeInHero {
    from { 
      opacity: 0; 
      transform: translateY(40px); 
    }
    to { 
      opacity: 1; 
      transform: none; 
    }
  }
  
  @keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(5deg); }
  }
  
  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }
  
  .hero-text {
    flex: 1;
    max-width: 700px;
    z-index: 10;
    animation: slideInLeft 1.5s 0.2s both;
  }
  
  @keyframes slideInLeft {
    from { 
      opacity: 0; 
      transform: translateX(-50px); 
    }
    to { 
      opacity: 1; 
      transform: none; 
    }
  }
  
  .hero-text h1 {
    font-size: 3.2rem;
    font-weight: 900;
    color: #1a1a1a;
    margin-bottom: 1rem;
    line-height: 1.1;
    letter-spacing: -0.02em;
    background: linear-gradient(135deg, #1a1a1a 0%, #333 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  
  .hero-text span {
    background: linear-gradient(135deg, #f7b32b 0%, #ff8c42 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: 900;
    position: relative;
  }
  
  .hero-text span::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 100%;
    height: 3px;
    background: linear-gradient(90deg, #f7b32b, #ff8c42);
    border-radius: 2px;
    animation: shimmer 2s infinite;
  }
  
  .hero-text p {
    font-size: 1.3rem;
    color: #555;
    margin-bottom: 2rem;
    line-height: 1.6;
    font-weight: 400;
  }
  
  .hero-img {
    flex: 0 0 540px;
    max-width: 540px;
    height: 480px;
    border-radius: 2rem;
    overflow: hidden;
    box-shadow: 0 12px 48px rgba(0,0,0,0.15), 0 4px 16px rgba(247,179,43,0.10);
    z-index: 10;
    animation: slideInRight 1.5s 0.4s both;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.3s ease;
  }
  
  @keyframes slideInRight {
    from { 
      opacity: 0; 
      transform: translateX(50px) rotateY(15deg); 
    }
    to { 
      opacity: 1; 
      transform: none; 
    }
  }
  
  .hero-img:hover {
    transform: translateY(-8px) rotateY(-5deg) scale(1.03);
  }
  
  .hero-img::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, rgba(247,179,43,0.1) 0%, transparent 50%, rgba(255,140,66,0.1) 100%);
    z-index: 2;
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  
  .hero-img:hover::before {
    opacity: 1;
  }
  
  .hero-img img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 2rem;
    display: block;
    transition: transform 0.3s ease;
  }
  
  .hero-img:hover img {
    transform: scale(1.05);
  }
  
  .hero-cta-btn {
    background: linear-gradient(135deg, #f7b32b 0%, #ff8c42 100%);
    color: #fff;
    border: none;
    border-radius: 1.5rem;
    padding: 1rem 2.5rem;
    font-weight: 700;
    font-size: 1.1rem;
    box-shadow: 0 6px 24px rgba(247,179,43,0.25), 0 2px 8px rgba(0,0,0,0.1);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: inline-flex;
    align-items: center;
    gap: 0.7rem;
    text-decoration: none;
    position: relative;
    overflow: hidden;
  }
  
  .hero-cta-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    transition: left 0.5s;
  }
  
  .hero-cta-btn:hover::before {
    left: 100%;
  }
  
  .hero-cta-btn:hover {
    background: linear-gradient(135deg, #18181b 0%, #333 100%);
    color: #fff;
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 12px 40px rgba(247,179,43,0.3), 0 4px 16px rgba(0,0,0,0.2);
  }
  
  .hero-cta-btn:active {
    transform: translateY(-1px) scale(1.02);
  }
  
  .hero-cta-btn i {
    font-size: 1.2rem;
    transition: transform 0.3s ease;
  }
  
  .hero-cta-btn:hover i {
    transform: rotate(90deg) scale(1.1);
  }
  
  .hero-banner-wave {
    position: absolute;
    left: 0; 
    right: 0; 
    bottom: -1px;
    width: 100%;
    z-index: 1;
    pointer-events: none;
    opacity: 0.9;
  }
  
  .filter-section {
    text-align: center;
  }
  
  .filter-section h2 {
    font-size: 2rem;
    font-weight: 700;
    color: #222;
    margin-bottom: 1.2rem;
    justify-content: center;
  }
  
  .filter-chips {
    display: flex;
    flex-wrap: wrap;
    gap: 0.7rem;
    justify-content: center;
  }
  
  .chip {
    display: inline-flex;
    align-items: center;
    background: #fff;
    color: #222;
    border-radius: 2rem;
    padding: 0.5rem 1.3rem;
    font-size: 1rem;
    font-weight: 500;
    border: 1.5px solid #eee;
    cursor: pointer;
    transition: background 0.2s, color 0.2s, border 0.2s;
  }
  
  .chip.active, .chip:hover {
    background: #18181b;
    color: #fff;
    border: 1.5px solid #f7b32b;
  }
  
  .recipes-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));
    gap: 2rem;
  }
  
  .recipe-card {
    background: #fff;
    border-radius: 1.5rem;
    box-shadow: 0 2px 16px 0 rgba(60,60,120,0.08);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transition: box-shadow 0.2s, transform 0.2s;
    border: none;
  }
  
  .recipe-card:hover {
    box-shadow: 0 8px 32px 0 rgba(60,60,120,0.13);
    transform: translateY(-4px) scale(1.02);
  }
  
  .recipe-img {
    width: 100%;
    height: 200px;
    object-fit: cover;
    background: #f8f6f2;
  }
  
  .recipe-content {
    padding: 1.3rem 1.3rem 1rem 1.3rem;
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
  
  .recipe-title {
    font-size: 1.18rem;
    font-weight: 700;
    color: #18181b;
    margin-bottom: 0.7rem;
    min-height: 48px;
  }
  
  .recipe-meta {
    display: flex;
    align-items: center;
    gap: 1rem;
    color: #888;
    font-size: 0.98rem;
    margin-bottom: 0.7rem;
  }
  
  .recipe-meta i {
    color: #f7b32b;
    margin-right: 0.2rem;
  }
  
  .see-recipe-btn {
    background: #18181b;
    color: #fff;
    border: none;
    border-radius: 1.2rem;
    padding: 0.6rem 1.2rem;
    font-weight: 600;
    font-size: 1rem;
    margin-top: auto;
    transition: background 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
  }
  
  .see-recipe-btn:hover {
    background: #f7b32b;
    color: #18181b;
  }
  
  .custom-pagination .page-link {
    border-radius: 1rem !important;
    margin: 0 0.2rem;
    color: #18181b;
    background: #f8f6f2;
    border: none;
    font-weight: 600;
    box-shadow: 0 2px 8px rgba(60,60,120,0.07);
    transition: background 0.2s, color 0.2s;
  }
  
  .custom-pagination .page-link:hover {
    background: #f7b32b;
    color: #fff;
  }
  
  .custom-pagination .page-item.active .page-link {
    background: #f7b32b;
    color: #fff;
    border: none;
    box-shadow: 0 4px 16px rgba(247,179,43,0.10);
  }
  
  .custom-pagination .page-item.disabled .page-link {
    background: #eee;
    color: #bbb;
    border: none;
  }
  
  /* Responsive Design */
  @media (max-width: 1200px) {
    .hero-banner {
      min-height: 520px;
      padding: 3.5rem 2.5rem 0 2.5rem;
      gap: 2.5rem;
    }
    .hero-img {
      flex: 0 0 400px;
      max-width: 400px;
      height: 340px;
    }
    .hero-text h1 {
      font-size: 2.5rem;
    }
    .hero-text p {
      font-size: 1.1rem;
    }
  }
  
  @media (max-width: 768px) {
    .hero-banner {
      min-height: 350px;
      padding: 2.5rem 1.5rem 0 1.5rem;
      gap: 2rem;
    }
    .hero-img {
      flex: none;
      max-width: 100%;
      width: 100%;
      height: 220px;
    }
    .hero-text h1 {
      font-size: 1.7rem;
    }
    .hero-text p {
      font-size: 0.95rem;
    }
  }
  
  .cooking-tips-section {
    background: linear-gradient(90deg, #fffbe6 0%, #ffe5ec 100%);
    border-radius: 2rem;
    box-shadow: 0 4px 24px 0 rgba(247,179,43,0.10);
    padding: 2.5rem 0 2rem 0;
    margin-bottom: 3rem;
    position: relative;
    overflow: hidden;
  }
  .cooking-tips-carousel {
    display: flex;
    gap: 2rem;
    overflow-x: auto;
    padding: 1rem 2rem;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
  }
  .cooking-tip-card {
    min-width: 320px;
    max-width: 340px;
    background: linear-gradient(135deg, #f7b32b 0%, #ff8c42 100%);
    color: #fff;
    border-radius: 1.5rem;
    box-shadow: 0 2px 16px rgba(60,60,120,0.10);
    padding: 2rem 1.5rem 1.5rem 1.5rem;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    position: relative;
    scroll-snap-align: start;
    transition: transform 0.2s, box-shadow 0.2s;
    font-size: 1.15rem;
    margin-bottom: 1rem;
  }
  .cooking-tip-card:hover {
    transform: translateY(-6px) scale(1.03);
    box-shadow: 0 8px 32px 0 rgba(247,179,43,0.18);
  }
  .cooking-tip-icon {
    font-size: 2.2rem;
    margin-bottom: 1rem;
    color: #fffbe6;
    filter: drop-shadow(0 2px 8px rgba(255,140,66,0.15));
  }
  @media (max-width: 768px) {
    .cooking-tips-carousel {
      flex-direction: column;
      gap: 1.2rem;
      padding: 0 0.5rem;
    }
    .cooking-tip-card {
      min-width: 0;
      width: 100%;
      max-width: 100%;
      font-size: 1rem;
      padding: 1.2rem 1rem;
    }
  }
  .cuisines-header {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .cuisines-title {
    font-size: 2.8rem;
    font-weight: 900;
    background:rgb(240, 191, 76);
    display: inline-block;
    padding: 0.2em 0.7em;
    border-radius: 0.4em;
    margin-bottom: 0.5rem;
    color: #18181b;
  }
  .cuisines-desc-alt {
    color: #555;
    font-size: 1.15rem;
    max-width: 700px;
    margin: 0 auto 1.5rem auto;
    font-weight: 400;
    background: none;
    border-radius: 0;
    padding: 0;
  }
  .cuisines-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 2rem;
    justify-content: center;
  }
  .cuisine-card {
    background: #fff;
    border-radius: 1.2rem;
    box-shadow: 0 2px 12px 0 rgba(60,60,120,0.08);
    min-width: 160px;
    max-width: 200px;
    width: 180px;
    padding: 2rem 1.2rem 1.2rem 1.2rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: box-shadow 0.2s, transform 0.2s;
    text-align: center;
  }
  .cuisine-card:hover {
    box-shadow: 0 8px 32px 0 rgba(60,60,120,0.13);
    transform: translateY(-4px) scale(1.03);
  }
  .cuisine-flag {
    font-size: 2.5rem;
    margin-bottom: 0.7rem;
  }
  .cuisine-name {
    font-weight: 700;
    font-size: 1.25rem;
    margin-bottom: 0.3rem;
    color: #18181b;
  }
  .cuisine-count {
    color: #888;
    font-size: 1.05rem;
  }
  .new-hero-section {
    margin-top: 4rem;
  }
  .top-bar {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 2rem;
    margin-bottom: 2rem;
    padding-bottom: 2rem;
    border-bottom: 1px solid #eee;
  }
  .top-bar-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    color: #555;
    font-size: 0.95rem;
  }
  .top-bar-item i {
    color: #f7b32b;
  }
  .new-hero-content {
    background: #f8f9fa;
    border-radius: 2rem;
    padding: 3rem;
    display: flex;
    align-items: center;
    gap: 3rem;
  }
  .new-hero-image {
    flex: 1;
    max-width: 500px;
  }
  .new-hero-image img {
    width: 100%;
    border-radius: 1.5rem;
    box-shadow: 0 8px 32px rgba(0,0,0,0.1);
  }
  .new-hero-text {
    flex: 1;
  }
  .new-hero-text h2 {
    font-weight: 800;
    font-size: 2.5rem;
    margin-bottom: 1rem;
    line-height: 1.2;
  }
  .new-hero-text p {
    color: #555;
    font-size: 1.1rem;
    margin-bottom: 2rem;
  }
  .rating {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 600;
    margin-bottom: 1rem;
  }
  .rating i {
    color: #f7b32b;
  }
  .rating-source {
    color: #888;
    font-size: 0.9rem;
  }
  .view-recipes-btn {
    font-weight: 600;
    padding: 0.75rem 1.5rem;
    border-radius: 1rem;
    background-color: #f7b32b;
  }

  .section-divider {
    margin: 5rem auto;
    width: 100px;
    height: 5px;
    background: linear-gradient(90deg, #f7b32b, #ff8c42);
    border-radius: 3px;
    opacity: 0.6;
    box-shadow: 0 2px 8px rgba(247,179,43,0.2);
  }

  .journal-section {
    text-align: center;
  }

  .journal-title {
    font-size: 2.8rem;
    font-weight: 800;
    color: #18181b;
    margin-bottom: 0.5rem;
    position: relative;
    display: inline-block;
  }

  .journal-title::after {
    content: '✒️';
    position: absolute;
    top: -10px;
    right: -40px;
    font-size: 2rem;
    opacity: 0.5;
    transform: rotate(15deg);
  }

  .journal-subtitle {
    font-size: 1.15rem;
    color: #555;
    margin-bottom: 3rem;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }

  .journal-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    justify-content: center;
  }

  .blog-card {
    background: #fff;
    border-radius: 1.5rem;
    box-shadow: 0 2px 16px 0 rgba(60,60,120,0.08);
    overflow: hidden;
    text-align: left;
    transition: box-shadow 0.2s, transform 0.2s;
  }

  .blog-card:hover {
    box-shadow: 0 8px 32px 0 rgba(60,60,120,0.13);
    transform: translateY(-4px);
  }

  .blog-img-container {
    position: relative;
    height: 220px;
  }

  .blog-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .blog-tag {
    position: absolute;
    top: 1rem;
    left: 1rem;
    background-color: #f04a4a;
    color: white;
    padding: 0.3rem 0.8rem;
    border-radius: 0.5rem;
    font-size: 0.8rem;
    font-weight: 700;
    text-transform: uppercase;
  }

  .blog-content {
    padding: 1.5rem;
  }

  .blog-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: #18181b;
    margin-bottom: 1rem;
    line-height: 1.4;
  }

  .blog-meta {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 0.5rem 1rem;
    font-size: 0.9rem;
    color: #777;
  }

  .blog-meta span {
    display: flex;
    align-items: center;
    gap: 0.4rem;
  }

  .blog-meta i {
    color: #f7b32b;
  }
</style>

<div class="hero-banner">
  <div class="hero-text">
    <h1>Explore <span>Culinary</span> Insights</h1>
    <p>Discover, share, and cook amazing recipes from around the world. Find your next favorite dish!</p>
    <a href="{% url 'upload_photo' %}" class="hero-cta-btn">
      <i class="bi bi-plus-circle"></i> Share Your Recipe
    </a>
  </div>
  <div class="hero-img d-none d-md-block">
    <img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80" alt="Delicious food">
  </div>
  <svg class="hero-banner-wave" viewBox="0 0 1440 90" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#f8f6f2" d="M0,60 C360,120 1080,0 1440,60 L1440,90 L0,90 Z"></path></svg>
</div>

<div class="filter-section" id="recipes-section">
  
  <h2>What to <span style="color:#f7b32b">Cook</span>?</h2>

  <div class="filter-chips">
    <a href="{% url 'main_page' %}#recipes-section" class="chip {% if not selected_meal_type %}active{% endif %}">
      <i class="bi bi-stars me-1"></i>All Types
    </a>
    {% for meal_type in meal_types %}
      <a href="#" class="chip {% if selected_meal_type == meal_type.id %}active{% endif %}">
        {{ meal_type.name }}
      </a>
    {% endfor %}
  </div>
</div>

<div class="section-divider"></div>

<!-- Most Popular Recipes Section -->
{% comment %} {% if popular_recipes %}
<section class="popular-recipes-section">
  <h2 class="mb-4 text-center" style="font-weight: 800; color: #f7b32b;">Most Popular Recipes</h2>
  <div class="row justify-content-center">
    {% for recipe in popular_recipes %}
    <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4">
      <div class="card h-100 shadow-sm" style="border-radius: 1.2rem; overflow: hidden;">
        {% if recipe.image %}
          <img src="{{ recipe.image.url }}" class="card-img-top" alt="{{ recipe.title }}" style="height: 140px; object-fit: cover;">
        {% endif %}
        <div class="card-body d-flex flex-column justify-content-between">
          <h5 class="card-title" style="font-weight: 700;">{{ recipe.title }}</h5>
          <span class="text-muted mb-2" style="font-size: 0.95rem;">{{ recipe.views }} views</span>
          <a href="{% url 'recipe_detail' recipe.id %}" class="btn btn-outline-warning mt-2" style="border-radius: 1rem; font-weight: 600;">View Recipe</a>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</section>
<div class="section-divider"></div>
{% endif %} {% endcomment %}


<!-- Browse by Category Section -->
{% comment %} {% if categories %}
<section class="browse-category-section">
  <h2 class="mb-4 text-center" style="font-weight: 800; color: #222;">Browse by tags</h2>
  <div class="d-flex flex-wrap justify-content-center gap-3 mb-3">
    {% for category in categories %}
    <a href="?category={{ category.id }}#recipes-section" class="chip">{{ category.name }}</a>
    {% endfor %}
  </div>
</section>
<div class="section-divider"></div>
{% endif %} {% endcomment %}

<!-- Cooking Tips Section -->
{% comment %} {% if cooking_tips %}
<section class="cooking-tips-section">
  <h2 class="mb-4 text-center" style="font-weight: 800; color: #f7b32b;">Cooking Tips</h2>
  <div class="cooking-tips-carousel">
    {% for tip in cooking_tips %}
    <div class="cooking-tip-card">
      <span class="cooking-tip-icon"><i class="bi bi-lightbulb"></i></span>
      <span>{{ tip }}</span>
    </div>
    {% endfor %}
  </div>
</section>
<div class="section-divider"></div>
{% endif %} {% endcomment %}

<div id="recipes-section" class="recipes-grid">
  {% for recipe in recipes %}
  <div class="recipe-card">
    {% if recipe.image %}
    <img src="{{ recipe.image.url }}" class="recipe-img" alt="{{ recipe.title }}">
    {% else %}
    <div class="recipe-img d-flex align-items-center justify-content-center" style="height:200px;">
      <i class="bi bi-image text-muted" style="font-size: 2.5rem;"></i>
    </div>
    {% endif %}
    <div class="recipe-content">
      <div class="recipe-title">{{ recipe.title }}</div>
      <div class="recipe-meta">
        <span><i class="bi bi-eye"></i> {{ recipe.views|default:0 }}</span>
        <span><i class="bi bi-clock"></i> {{ recipe.created_at|timesince }}</span>
      </div>
      <a href="{% url 'recipe_detail' recipe.id %}" class="see-recipe-btn">
        See Complete Recipe <i class="bi bi-arrow-right"></i>
      </a>
    </div>
  </div>
  {% empty %}
  <div class="col-12">
    <div class="text-center py-5">
      <i class="bi bi-emoji-smile text-muted" style="font-size: 3rem;"></i>
      <p class="text-muted mt-3">No recipes available yet. Be the first to share your recipe!</p>
    </div>
  </div>
  {% endfor %}
</div>

<!-- Pagination Controls -->
{% if recipes.has_other_pages %}
<nav aria-label="Recipe pagination" class="mt-4">
  <ul class="pagination justify-content-center custom-pagination">
    {% if recipes.has_previous %}
    <li class="page-item">
      <a class="page-link" href="?page={{ recipes.previous_page_number }}#recipes-section" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>
    {% else %}
    <li class="page-item disabled">
      <span class="page-link">&laquo;</span>
    </li>
    {% endif %}
    
    {% for num in recipes.paginator.page_range %}
    {% if recipes.number == num %}
    <li class="page-item active"><span class="page-link">{{ num }}</span></li>
    {% else %}
          <li class="page-item"><a class="page-link" href="?page={{ num }}#recipes-section">{{ num }}</a></li>
        {% endif %}
      {% endfor %}

      {% if recipes.has_next %}
        <li class="page-item">
          <a class="page-link" href="?page={{ recipes.next_page_number }}#recipes-section" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      {% else %}
        <li class="page-item disabled">
          <span class="page-link">&raquo;</span>
        </li>
      {% endif %}
    </ul>
  </nav>
{% endif %}

<div class="section-divider"></div>

<!-- Cuisines Section -->
<section class="cuisines-section">
  <div class="cuisines-header text-center mb-4">
    <h2 class="cuisines-title">Cuisines</h2>
    <div class="cuisines-desc-alt">
      Discover the rich diversity of global cuisines with our collection of authentic recipes. From comforting classics to exotic flavors, find inspiration for every meal and occasion!
    </div>
  </div>
  <div class="cuisines-grid">
    {% for cuisine in cuisines %}
      <a href="{% url 'recipes_by_cuisine' cuisine_id=cuisine.id %}" class="cuisine-card" style="text-decoration: none;">
        <div class="cuisine-flag">
          {% if cuisine.country_code %}
            <span class="flag-icon flag-icon-{{ cuisine.country_code|lower }}" style="font-size: 2.5rem;"></span>
          {% else %}
            <span>🌎</span>
          {% endif %}
        </div>
        <div class="cuisine-name">{{ cuisine.name }}</div>
        <div class="cuisine-count">
          {{ cuisine.recipe_count }} Recipe{{ cuisine.recipe_count|pluralize }}
        </div>
      </a>
    {% empty %}
      <div class="text-center text-muted">No cuisines found.</div>
    {% endfor %}
  </div>
</section>

<div class="section-divider"></div>

<!-- New Hero Section -->
<section class="new-hero-section">
  <div class="top-bar">
    {% for recipe in top_bar_recipes %}
    <div class="top-bar-item">
      <span><i class="bi bi-clock"></i> {{ recipe.cook_time }} min</span>
      <span class="d-flex align-items-center">
        {% if recipe.cuisine.country_code %}
          <span class="flag-icon flag-icon-{{ recipe.cuisine.country_code|lower }} me-2"></span>
        {% endif %}
        {{ recipe.cuisine.name }}
      </span>
      <span><i class="bi bi-award"></i> {{ recipe.difficulty.name }}</span>
    </div>
    {% endfor %}
  </div>
  <div class="new-hero-content">
    <div class="new-hero-image">
      <img src="https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Delicious Food">
    </div>
    <div class="new-hero-text">
      <div class="rating">
        <i class="bi bi-star-fill"></i> 5.0
        <span class="rating-source">score from 10,000+ ratings</span>
      </div>
      <h2>Discover fresh and easy recipes to inspire your meals every day.</h2>
      <p>Discover fresh and easy recipes for every meal, from quick breakfasts and light lunches to hearty dinners and indulgent desserts, find endless inspiration to make cooking simple, fun, and enjoyable for any occasion or gathering!</p>
      <a href="#recipes-section" class="btn btn-light view-recipes-btn" >View Recipes</a>
    </div>
  </div>
</section>

<div class="section-divider"></div>

<!-- Newly Added Recipes Section -->
{% if new_recipes %}
<section class="new-recipes-section">
  <h2 class="mb-4 text-center" style="font-weight: 800; color: #18181b;">Newly Added Recipes</h2>
  <div class="row justify-content-center">
    {% for recipe in new_recipes %}
    <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4">
      <div class="card h-100 shadow-sm" style="border-radius: 1.2rem; overflow: hidden;">
        {% if recipe.image %}
          <img src="{{ recipe.image.url }}" class="card-img-top" alt="{{ recipe.title }}" style="height: 140px; object-fit: cover;">
        {% endif %}
        <div class="card-body d-flex flex-column justify-content-between">
          <h5 class="card-title" style="font-weight: 700;">{{ recipe.title }}</h5>
          <span class="text-muted mb-2" style="font-size: 0.95rem;">Added {{ recipe.created_at|timesince }} ago</span>
          <a href="{% url 'recipe_detail' recipe.id %}" class="btn btn-outline-dark mt-2" style="border-radius: 1rem; font-weight: 600;">View Recipe</a>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</section>
{% endif %}

<div class="section-divider"></div>

<!-- Blog Section -->
{% if random_blogs %}
<section class="journal-section">
    <h2 class="journal-title">Our Journal</h2>
    <p class="journal-subtitle">Discover stories, tips, and trends to inspire your culinary journey and creativity!</p>
    <div class="journal-grid">
        {% for blog in random_blogs %}
        <a href="{% url 'blog_list' %}" class="blog-card" style="text-decoration: none; display: block;">
            <div class="blog-img-container">
                {% if blog.image %}
                    <img src="{{ blog.image.url }}" alt="{{ blog.title }}" class="blog-img">
                {% endif %}
                {% with blog.tags.all|first as first_tag %}
                    {% if first_tag %}
                        <span class="blog-tag">{{ first_tag.name }}</span>
                    {% endif %}
                {% endwith %}
            </div>
            <div class="blog-content">
                <h3 class="blog-title">{{ blog.title }}</h3>
                <div class="blog-meta">
                    <span>by <strong>{{ blog.author.get_full_name|default:blog.author.username }}</strong></span>
                    <span><i class="bi bi-clock"></i> {{ blog.created_at|timesince }} ago</span>
                    <span><i class="bi bi-chat-dots"></i> 0</span>
                    <span>5 Min Read</span>
                </div>
            </div>
        </a>
        {% endfor %}
    </div>
</section>
{% endif %}

{% endblock %} 